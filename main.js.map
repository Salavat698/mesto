{"version":3,"sources":["webpack://yandex_praktikum/./src/scripts/components/Card.js","webpack://yandex_praktikum/./src/scripts/components/FormValidate.js","webpack://yandex_praktikum/./src/scripts/components/Section.js","webpack://yandex_praktikum/./src/scripts/components/Popup.js","webpack://yandex_praktikum/./src/scripts/components/PopupWithForm.js","webpack://yandex_praktikum/./src/scripts/components/PopupWithImage.js","webpack://yandex_praktikum/./src/scripts/components/UserInfo.js","webpack://yandex_praktikum/./src/scripts/utils/constants.js","webpack://yandex_praktikum/./src/scripts/components/Api.js","webpack://yandex_praktikum/./src/scripts/components/PopupWithConfirm.js","webpack://yandex_praktikum/./src/pages/index.js"],"names":["Card","cardData","handleCardClick","currentUserId","sumbitHandler","handlerLike","this","cardTemplateId","_handleCardClick","cardElement","_makeCard","_makeEventListeners","itemElementCard","querySelector","likesCounter","_ownerId","owner","_id","_userId","idCard","liked","removeDeleteButton","isLikedState","likes","forEach","like","elementLike","classList","toggle","basketIconDeletBtn","remove","document","content","cloneNode","image","title","textContent","length","src","link","alt","name","isLiked","some","add","basketIconDelet","previewImg","addEventListener","_like","openPopupConfirm","_openImagePopup","FormValidator","validationConfig","form","input","errorElement","id","inputErrorClass","validationMessage","errorClass","Array","from","querySelectorAll","inputSelector","_hideInputError","activeBtnPopup","submitButtonSelector","inactiveButtonClass","disabled","inputs","every","validity","valid","button","_hasInvalidInputs","_showInputError","_validateInput","_toggleButtonState","_setInputListeners","e","_preventFormSubmit","preventDefault","Section","containerSelector","items","renderer","_itemsArr","_renderer","_containerSection","reverse","item","prepend","Popup","popupSelector","event","target","contains","close","popup","_handleEscClose","bind","evt","key","removeEventListener","_handleOverlayClose","PopupWithForm","submitHandler","saveBtn","values","value","_getInputValues","reset","status","PopupWithImage","data","caption","UserInfo","userName","userCommit","about","userAvatar","avatar","console","log","userLink","nameInput","workInput","profileEditBtn","formElement","profileAddBtn","formElementCards","inputName","inputDescription","formSelector","Api","address","token","result","ok","json","Promise","reject","fetch","method","headers","authorization","then","_checkStatus","body","JSON","stringify","map","isMine","cardId","removeLike","addLike","PopupWithConfirm","removeCardHandler","cardEl","open","_removeCardHandler","deletBtn","formDelet","userInfoProfile","api","containerElement","cardsSection","render","createCard","addItem","all","getUserInfo","getInitialCards","userData","userCard","setUserInfo","catch","err","validatorAvatar","enableValidation","avatarEditBtn","avatarEditPopup","inputData","showTextSave","updateAvatar","res","setUserAvatar","finally","setEventListeners","resetFormState","popupFormProfile","dataFormPoup","updateUser","work","dataFormServer","validatorAddCard","popupWithDeleteCard","likeCard","getElement","card","getId","getIsLiked","updateLikesInfo","popupFormCards","addCard","serverCard","getCardElement","ownerId","getOwnerId","deleteCard","popupImage","validatorEditProfile"],"mappings":"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","file":"main.js","sourcesContent":["export class Card{\r\n\r\n    constructor(cardData,handleCardClick,currentUserId,sumbitHandler,handlerLike){\r\n\r\n        this.cardData = cardData;\r\n        this.handlerLike = handlerLike;\r\n        this.cardTemplateId = '#card-template';\r\n        this._handleCardClick = handleCardClick;\r\n        //метод сбора инфы\r\n        this.sumbitHandler = sumbitHandler;\r\n        this.cardElement = this._makeCard();\r\n        this._makeEventListeners();\r\n        this.itemElementCard =this.cardElement.querySelector('.directors__item');\r\n        this.likesCounter =  this.cardElement.querySelector('.element__likes-click');\r\n        this._ownerId = cardData.owner._id;// ид владельца карточки\r\n        this._userId = currentUserId;//мои ид \r\n        this.idCard = cardData._id // ид карт\r\n        this.liked = false;\r\n        this.removeDeleteButton ()\r\n        this.isLikedState()\r\n    }\r\n    \r\n   \r\n        //пробегаеться по лайкам если средих них мои и красит его в черный если да\r\n    isLikedState(){\r\n        this.cardData.likes.forEach((like)=>{\r\n            if(like._id === this._userId){\r\n                this.liked = true;\r\n                this.elementLike.classList.toggle(\"element__like_active\");\r\n            }\r\n        })\r\n    }\r\n    //проверка на ид и удаляет корзину удаления\r\n    removeDeleteButton () {\r\n        this.basketIconDeletBtn = this.cardElement.querySelector('.element__backet');\r\n        if (this._ownerId !== this._userId) {\r\n          this.basketIconDeletBtn.remove();\r\n        }\r\n      }\r\n\r\n    _makeCard(){\r\n        const cardTemplate = document.querySelector(this.cardTemplateId).content;\r\n        const cardElement = cardTemplate.cloneNode(true);\r\n        const image = cardElement.querySelector('.element__image');\r\n        const title = cardElement.querySelector('.element__place-travel');\r\n        this.likesCounter = cardElement.querySelector('.element__likes-click');\r\n        this.elementLike = cardElement.querySelector(\".element__like\");\r\n      \r\n        this.likesCounter.textContent =  this.cardData.likes.length;\r\n        image.src = this.cardData.link;\r\n        image.alt = this.cardData.name;\r\n        title.textContent = this.cardData.name;\r\n        \r\n        this.isLiked = this.cardData.likes.some(like => like._id === this._userId)\r\n        if(this.isLiked){\r\n            this.elementLike.classList.add('element__like_active');\r\n        }\r\n        return cardElement;\r\n\r\n    }\r\n    _openImagePopup(){\r\n        this._handleCardClick(this.cardData);\r\n    }\r\n    //переключает стиль для сердечко\r\n    _like(){\r\n        this.handlerLike(this)\r\n    }\r\n    getId(){\r\n        return this.cardData._id\r\n    }\r\n    getIsLiked(){\r\n        return this.isLiked\r\n    }\r\n    updateLikesInfo(likes){\r\n        this.cardData.likes = likes;\r\n        this.isLiked = this.cardData.likes.some(like => like._id === this._userId);\r\n        if(this.isLiked){\r\n            this.elementLike.classList.add('element__like_active');\r\n            this.likesCounter.textContent =  this.cardData.likes.length;\r\n        }else{\r\n            this.elementLike.classList.remove('element__like_active');\r\n            this.likesCounter.textContent =  this.cardData.likes.length;\r\n        }\r\n    }\r\n    //метод едлемента удаления\r\n    openPopupConfirm(){\r\n        this.sumbitHandler(this.itemElementCard,this.idCard)\r\n    }\r\n\r\n    _makeEventListeners(){\r\n        const elementLike = this.cardElement.querySelector(\".element__like\");//cам лайк ДОМ\r\n        const basketIconDelet = this.cardElement.querySelector('.element__backet');\r\n        const previewImg = this.cardElement.querySelector('.element__image')\r\n \r\n        elementLike.addEventListener(\"click\", () =>this._like());\r\n        basketIconDelet.addEventListener(\"click\", () => this.openPopupConfirm());\r\n        previewImg.addEventListener(\"click\", () => this._openImagePopup());\r\n    }\r\n\r\n    getElement(){\r\n        return this.cardElement;\r\n    }\r\n}","export class FormValidator{\n  constructor(validationConfig,form){\n    this.validationConfig = validationConfig;\n    this.form = form;\n  } \n  _showInputError(input){\n    const errorElement = this.form.querySelector(`#${input.id}--error`);\n    input.classList.add(this.validationConfig.inputErrorClass);\n    errorElement.textContent = input.validationMessage;\n    errorElement.classList.add(this.validationConfig.errorClass);\n  }\n\n  _hideInputError(input){\n    const errorElement =  this.form.querySelector(`#${input.id}--error`);\n    input.classList.remove(this.validationConfig.inputErrorClass);\n    errorElement.textContent = '';\n    errorElement.classList.remove(this.validationConfig.errorClass);\n  }\n\n  resetFormState(){\n    const inputList = Array.from(this.form.querySelectorAll(this.validationConfig.inputSelector));\n    inputList.forEach(input =>{\n      this._hideInputError(input)\n    });\n    const activeBtnPopup = this.form.querySelector(this.validationConfig.submitButtonSelector);\n    activeBtnPopup.classList.add(this.validationConfig.inactiveButtonClass);\n    activeBtnPopup.disabled = true;\n  }\n\n\n  _hasInvalidInputs(inputs){\n    return inputs.every(input => input.validity.valid);\n  }\n\n  _toggleButtonState(inputs,button){\n    if (!this._hasInvalidInputs(inputs)) {\n      button.classList.add(this.validationConfig.inactiveButtonClass);\n      button.disabled = true;\n    } else {\n      button.classList.remove(this.validationConfig.inactiveButtonClass);\n      button.disabled = false;\n    }\n  }\n\n  _validateInput(input){\n\n    if (input.validity.valid) {\n      this._hideInputError(input);\n      \n    } else {\n      this._showInputError(input);\n    }\n  }\n  \n  _setInputListeners(){\n      const inputs = Array.from(this.form.querySelectorAll(this.validationConfig.inputSelector));\n      const button = this.form.querySelector(this.validationConfig.submitButtonSelector);\n      inputs.forEach(input =>{\n        input.addEventListener('input',()=>{\n          this._validateInput(input);\n          this._toggleButtonState(inputs,button);\n        })\n      })\n  }\n\n  enableValidation(){\n    this._setInputListeners();\n    this.form.addEventListener('submit',(e)=>{\n      this._preventFormSubmit(e)\n    });\n  }\n\n  _preventFormSubmit(e){\n    e.preventDefault();\n  }\n\n}","export default class Section {\r\n    constructor({ items, renderer }, containerSelector) {\r\n        this._itemsArr = items;\r\n        this._renderer = renderer;\r\n        this._containerSection = containerSelector;\r\n    }\r\n    render() {\r\n        this._itemsArr.reverse().forEach( item => this._renderer(item))\r\n    }\r\n    addItem(item) {\r\n        this._containerSection.prepend(item);\r\n    }\r\n}\r\n","export default class Popup {\r\n    constructor(popupSelector) {\r\n      \r\n      this.popup = document.querySelector(popupSelector)\r\n      this._handleEscClose = this._handleEscClose.bind(this)\r\n      // this._closeByOverlayClick = this._closeByOverlayClick.bind(this)\r\n\r\n    }\r\n\r\n    _handleEscClose(evt) {\r\n      evt.preventDefault();\r\n      if(evt.key === 'Escape') {\r\n        this.close()\r\n      }\r\n    }\r\n    _handleOverlayClose = (event) => {\r\n      if (event.target.classList.contains('popup')) {\r\n          this.close();\r\n      }\r\n  };\r\n\r\n    open() {\r\n      this.popup.classList.add('popup_active');\r\n      document.addEventListener('keyup',this._handleEscClose)\r\n  \r\n    }\r\n  \r\n    close() {\r\n      this.popup.classList.remove('popup_active');\r\n      document.removeEventListener('keyup',this._handleEscClose)\r\n    }\r\n\r\n\r\n    setEventListeners() {\r\n      this.popup.querySelector('.popup__close').addEventListener('click', () => {\r\n        this.close()\r\n      })\r\n       this.popup.addEventListener('click', this._handleOverlayClose);\r\n      \r\n    }\r\n  }","import Popup from './Popup.js'\r\n\r\n\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popupSelector, submitHandler) {\r\n    super(popupSelector);\r\n    this.submitHandler = submitHandler;\r\n    this.form = this.popup.querySelector('.popup__container');\r\n    this.saveBtn = this.popup.querySelector('.popup__save-btn');\r\n  }\r\n\r\n  _getInputValues() {\r\n    const values = {};\r\n    const inputs = Array.from(this.form.querySelectorAll('.popup__input'));\r\n    inputs.forEach(input => {\r\n      values[input.name] = input.value\r\n    })\r\n    return values\r\n  }\r\n\r\n  setEventListeners() {\r\n    super.setEventListeners();\r\n    this.form.addEventListener('submit', () => {\r\n      this.submitHandler(this._getInputValues())\r\n\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.form.reset();\r\n    super.close();\r\n  }\r\n  showTextSave(status){\r\n    if(status){\r\n      this.saveBtn.textContent = 'Сохранение...'\r\n    }else{\r\n      this.saveBtn.textContent = 'Сохранить'\r\n    }\r\n  }\r\n}","import Popup from './Popup.js'\r\n\r\n export default class PopupWithImage extends Popup {\r\n  constructor(popupSelector) {\r\n    super(popupSelector)\r\n  }\r\n\r\n  open(data) {\r\n    this.caption = this.popup.querySelector('.preview__signature');\r\n    this.image = this.popup.querySelector('.preview__img');\r\n    this.caption.textContent = data.name;\r\n    this.image.src = data.link;\r\n    this.image.alt = data.name;\r\n    super.open();\r\n  }\r\n}","export default class UserInfo{\r\n    constructor(data) {\r\n      this.data = data;   \r\n      this.userName = document.querySelector(this.data.name);\r\n      this.userCommit = document.querySelector(this.data.about); \r\n      this.userAvatar = document.querySelector(this.data.avatar);\r\n    }\r\n  \r\n    getUserInfo() {\r\n      return {\r\n        name: this.userName.textContent, \r\n        about: this.userCommit.textContent,\r\n        avatar: this.userAvatar.values}\r\n    }\r\n  \r\n    setUserInfo(values) {\r\n      if(values.name && values.about && values.avatar){\r\n        this.userName.textContent= values.name;\r\n        this.userCommit.textContent = values.about;\r\n        this.userAvatar.src = values.avatar;\r\n      }else{\r\n        console.log(`Беда:${values}`)\r\n      }\r\n   \r\n    }\r\n    setUserAvatar(userLink) {\r\n      this.userAvatar.src = userLink;\r\n    };\r\n  \r\n  }\r\n  ","export{\r\n    popupEditProfile,\r\n    profileEditBtn,\r\n    formElement,\r\n    profileAddBtn,\r\n    formElementCards,\r\n    inputName,\r\n    inputDescription,\r\n    validationConfig,\r\n    profileConfig,\r\n    nameInput,\r\n    workInput\r\n}\r\nconst profileConfig ={name:'.profile__name', about:'.profile__work',avatar:'.profile__avatar'}\r\nconst nameInput = document.querySelector('#name-input');\r\nconst workInput =  document.querySelector('#work-input');\r\n\r\nconst profileEditBtn = document.querySelector('.profile__edit-btn');//кнопка редаетирование\r\nconst popupEditProfile = document.querySelector('.popup_profile');//сам блок попап\r\nconst formElement = document.querySelector('.popup__container_profile'); // Воспользуйтесь методом querySelector()\r\nconst profileAddBtn = document.querySelector('.profile__add-btn');// переменная кнопки добавить фото-карточки\r\nconst formElementCards = document.querySelector('.popup__container_cards'); //сама форма попап\r\nconst inputName = document.querySelector('.popup__input-description');\r\nconst inputDescription = document.querySelector('.popup__input-images');\r\nconst  validationConfig= {\r\n  formSelector: '.popup__container',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__save-btn',\r\n  inactiveButtonClass: 'popup__save-btn_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__input--error'\r\n};","export {Api}\r\nclass Api {\r\n    constructor({address,token}) {\r\n      this.address = address;\r\n      this.token = token;\r\n    }\r\n    _checkStatus(result){\r\n      if (result.ok) {\r\n        return result.json()\r\n    } else {\r\n        return Promise.reject(`Ошибка: ${result.status}`)\r\n    }\r\n    }\r\n    getUserInfo(){\r\n      return fetch(`${this.address}/users/me`, {\r\n        method:'GET',\r\n          headers: {\r\n            authorization: this.token\r\n          }\r\n        })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n      })\r\n    }\r\n\r\n\r\n    updateUser({name,about}) {\r\n      return fetch(`${this.address}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this.token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ name,about})\r\n      })    \r\n      .then(result => {\r\n        return this._checkStatus(result)\r\n      });\r\n  }\r\n  \r\n  updateAvatar(data) {\r\n    return fetch(`${this.address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this.token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        {avatar:data}\r\n      )\r\n    })    \r\n    .then(result => {\r\n      return this._checkStatus(result)\r\n          });\r\n}\r\n\r\n\r\ngetInitialCards(){\r\n      return fetch(`${this.address}/cards`, {\r\n        method:'GET',\r\n          headers: {\r\n            authorization: this.token\r\n          }\r\n        })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n      })\r\n      .then(\r\n        data =>\r\n          data.map(e => {\r\n            e.isMine = e.owner._id === \"a335225deae10b0eeb469615\";\r\n            return e;\r\n          })\r\n      )\r\n    }\r\n\r\n    addCard({ name,link}){\r\n      return fetch(`${this.address}/cards`, {\r\n        method:'POST',\r\n          headers: {\r\n            authorization: this.token,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({ name,link})\r\n        })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n      })\r\n    }\r\n\r\n    deleteCard(id) {\r\n      return fetch(`https://mesto.nomoreparties.co/v1/cohort-24/cards/${id}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n              authorization: '43b98874-8a2f-4742-91c1-202875e69e98',\r\n              'Content-Type': 'application/json'\r\n          },\r\n      })\r\n          .then(result => {\r\n            return this._checkStatus(result)\r\n          })\r\n  }\r\n  addLike(id) {\r\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-24/cards/likes/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            authorization: '43b98874-8a2f-4742-91c1-202875e69e98',\r\n            'Content-Type': 'application/json'\r\n        },\r\n    })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n        })\r\n  }\r\n\r\n  removeLike(id) {\r\n  return fetch(`https://mesto.nomoreparties.co/v1/cohort-24/cards/likes/${id}`,{\r\n      method: 'DELETE',\r\n      headers: {\r\n          authorization: '43b98874-8a2f-4742-91c1-202875e69e98',\r\n          'Content-Type': 'application/json'\r\n      },\r\n  })\r\n      .then(result => {\r\n        return this._checkStatus(result)\r\n      })\r\n  }\r\n  like (cardId, isLiked) {\r\n    return isLiked ? this.removeLike(cardId) : this.addLike(cardId);\r\n  }\r\n}\r\n  \r\n","import Popup from './Popup.js'\r\n\r\n export default class PopupWithConfirm extends Popup {\r\n  constructor(popupSelector,removeCardHandler) {\r\n    super(popupSelector)\r\n    this._removeCardHandler = removeCardHandler;\r\n    this.deletBtn = document.querySelector('.popup__btn-yes');\r\n    //форма вопрос удаления\r\n    this.formDelet = document.querySelector('.popup__container-delet')\r\n  }\r\n\r\n  setEventListeners() {\r\n  \r\n    super.setEventListeners()\r\n    this.formDelet.addEventListener('click',(evt)=>{\r\n      evt.preventDefault();\r\n      this._removeCardHandler();\r\n    })\r\n  }\r\n  getCardElement(){\r\n    return this.cardEl;\r\n  }\r\n\r\n  getOwnerId(){\r\n    return this.id;\r\n  }\r\n\r\n  sumbitHandler = (cardEl,id) =>{\r\n    this.cardEl = cardEl;\r\n    this.id = id;\r\n    this.open();\r\n  }\r\n\r\n\r\n}","import {Card} from '../scripts/components/Card.js';\nimport {FormValidator} from '../scripts/components/FormValidate.js';\nimport Section from '../scripts/components/Section.js';\nimport PopupWithForm from '../scripts/components/PopupWithForm.js';\nimport PopupWithImage from '../scripts/components/PopupWithImage.js';\nimport UserInfo from '../scripts/components/UserInfo.js';\nimport './index.css';\nimport {\n  profileEditBtn,\n  formElement,\n  profileAddBtn,\n  formElementCards,\n  inputName,\n  inputDescription,\n  validationConfig,\n  profileConfig,\n  nameInput,\n  workInput\n} from '../scripts/utils/constants.js'\n\nimport {Api} from '../scripts/components/Api.js'\nimport PopupWithConfirm from '../scripts/components/PopupWithConfirm.js'\n\n// экземпляр юзера\nconst userInfoProfile = new UserInfo(profileConfig);\n\nlet currentUserId;\n\n// запрос на  о пользователе с сервера\nconst api= new Api({\n  address: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  token: '43b98874-8a2f-4742-91c1-202875e69e98',\n})\n\nconst containerElement = document.querySelector('.element');\n\n// Section экземпляр\nconst cardsSection = new Section({\n  items: [],\n    render: (items) => {\n      items.reverse().forEach(item => {\n          const cardElement = createCard(item);\n          cardsSection.addItem(cardElement);\n      })\n  }\n}, containerElement);\n\nPromise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userData, userCard]) => {\n\n      currentUserId = userData._id\n      userInfoProfile.setUserInfo({\n        name: userData.name,\n        about: userData.about,\n        avatar: userData.avatar,\n      })\n\n      const cardsSection = new Section({\n        items: userCard,\n        renderer: (items) => {\n          const cardElement = createCard(items);\n          cardsSection.addItem(cardElement);\n        }\n    }, containerElement);\n    cardsSection.render();\n\n\n    })\n    .catch((err) => {\n        console.log(`Вот, что произошло. ${err}`);\n    });\n\n// валидаций авaтара\nconst avatarElementPopup = document.querySelector('.popup__container-avatar')\nconst validatorAvatar = new FormValidator(validationConfig,avatarElementPopup);\nvalidatorAvatar.enableValidation();\n\n// Avatar\nconst avatarEditBtn = document.querySelector('.profile__avatar-edit')\nconst avatarEditPopup = new PopupWithForm ('.popup_avatar',handleLoadUserAvatar)\navatarEditPopup.setEventListeners();\n\nfunction handleLoadUserAvatar (inputData) {\n  avatarEditPopup.showTextSave(true)\n\n  api.updateAvatar(inputData.avatar)\n  .then((res)=>{\n    userInfoProfile.setUserAvatar(res.avatar);\n    avatarEditPopup.close()\n  })\n    \n  .catch((err)=>{\n    console.log(err)\n  })\n  .finally(()=>{\n    avatarEditPopup.showTextSave(false);\n  })\n}\n\n//открываю Автар попап\navatarEditBtn.addEventListener('click',function() {\n  avatarEditPopup.open()\n  validatorAvatar.resetFormState()\n})\n\n// //экземпляр формы Профиля\nconst popupFormProfile = new PopupWithForm('.popup_profile', editFormSubmitHandler);\npopupFormProfile.setEventListeners();\n\n// функция которую буду опрокидывать в PopupFormProfile\nfunction editFormSubmitHandler(dataFormPoup){\n  popupFormProfile.showTextSave(true)\n  api.updateUser({\n    name: dataFormPoup.name,\n    about: dataFormPoup.work,\n  }\n  ).then((dataFormServer) =>{\n    userInfoProfile.setUserInfo(dataFormServer)\n    popupFormProfile.close()\n  })\n  .catch((res)=>{\n    console.log(`\"Вот что произошло\":${res}`)\n  })\n  .finally(()=>{\n    popupFormProfile.showTextSave(false)\n  })\n  \n}\n\n//валидаций профиля\nconst validatorAddCard = new FormValidator(validationConfig,formElement);\nvalidatorAddCard.enableValidation();\n\n//открывание профиле Профиля\nprofileEditBtn.addEventListener('click', function(){\n  popupFormProfile.open();\n  const data = userInfoProfile.getUserInfo()\n  nameInput.value = data.name\n  workInput.value = data.about\n  validatorAddCard.resetFormState()\n});\n\n// // Section экземпляр\n// const cardsSection = new Section({\n//   items: [],\n//     render: (items) => {\n//       items.reverse().forEach(item => {\n//           const cardElement = createCard(item);\n//           cardsSection.addItem(cardElement);\n//       })\n//   }\n// }, containerElement);\n\n\n\n// // функция создания карточек\nfunction createCard(data) {\n  const cardElement = new Card(\n    data,\n    handleCardClick,\n    currentUserId,\n    popupWithDeleteCard.sumbitHandler,\n    likeCard,\n  );\n  return cardElement.getElement();\n}\n\nfunction likeCard(card){\n  api.like(card.getId(),card.getIsLiked())\n  .then(res => {\n    card.updateLikesInfo(res.likes)\n  })\n  .catch((res)=>{\n    console.log(`\"Вот что произошло\":${res}`)\n  })\n}\nconst popupAddCards = ('.popup_add-cards')\n//экземпляр карточек\nconst popupFormCards = new PopupWithForm(popupAddCards, formAddCardSubmitHandler);\npopupFormCards.setEventListeners();\n\n// //отправка формы для карточек\nfunction formAddCardSubmitHandler() {\n  popupFormCards.showTextSave(true)\n  api.addCard({\n    name:inputName.value,\n    link:inputDescription.value\n  }\n  ).then((serverCard) =>{\n    cardsSection.addItem(createCard(serverCard))\n    popupFormCards.close()\n  })\n  .catch((res)=>{\n    console.log(`\"Вот что произошло\":${res}`)\n  })\n  .finally(()=>{\n    popupFormCards.showTextSave(false)\n  })\n}\n\n// удаления карточки из сервера\nconst popupWithDeleteCard = new PopupWithConfirm('.popup_delet',removeCardHandler)\npopupWithDeleteCard.setEventListeners();\n\nfunction removeCardHandler(){\n  const cardElement =popupWithDeleteCard.getCardElement();\n  const ownerId =popupWithDeleteCard.getOwnerId();\n\n  api.deleteCard(ownerId)\n  .then(() =>{\n    cardElement.remove();\n    popupWithDeleteCard.close();\n  })\n  .catch(err =>{\n    console.log(err)\n  })\n}\nconst popupPreview = ('.popup_preview')\n// создание попапа превью\nconst popupImage = new PopupWithImage(popupPreview);\npopupImage.setEventListeners();\n\n// функция передачи данных для открытия первью карточки\nfunction handleCardClick (data) {\n  return popupImage.open(data);\n}\n\n// открывание карточек\nprofileAddBtn.addEventListener('click',function(){\n  popupFormCards.open();\n  formElementCards.reset();\n  validatorEditProfile.resetFormState()//очищение формы при открытий\n});\n\n //валидаций карт\n const validatorEditProfile = new FormValidator(validationConfig,formElementCards);\n validatorEditProfile.enableValidation();"],"sourceRoot":""}